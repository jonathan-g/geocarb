<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulate the geochemical carbon cycle. • geocarb</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Simulate the geochemical carbon cycle.">
<meta property="og:description" content="Runs a simulation of the geochemical carbon cycle, allowing changes in natural and anthropogenic emission of carbon dioxide.
">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">geocarb</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jonathan-g/geocarb">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="geocarb" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#geocarb" class="anchor"></a>geocarb</h1></div>
<!-- badges: start -->

<p>The <code>geocarb</code> package runs simulations of the geochemical carbon cycle with varying emissions of carbon dioxide from both natural and anthropogenic sources. It tracks the partitioning of carbon in the atmosphere and ocean, including carbonate buffering reactions in the ocean, and accounts for weathering and the burial of carbonate mineral sediments on the sea floor.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<!--
You can install 
the released version of geocarb from 
[CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("geocarb")
```

And the development version from 
[GitHub](https://github.com//jonathan-g/geocarb) 
with:

``` r
# install.packages("remotes")
remotes::install_github("jonathan-g/geocarb")
```
<!-- -->
<!-- -->
<p>You can install the development version of <code>geocarb</code> from <a href="https://github.com/jonathan-g/geocarb">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"jonathan-g/geocarb"</span>)</span></code></pre></div>
<!-- -->
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div id="multiple-spikes-of-co2-emissions" class="section level3">
<h3 class="hasAnchor">
<a href="#multiple-spikes-of-co2-emissions" class="anchor"></a>Multiple spikes of CO2 emissions:</h3>
<p>This is a basic example which simulates a period of approximately 2 million years, with five spikes of 1000 gigatons of carbon every 10,000 years, starting in year zero and continuing through year 40,000. After the last spike, the simulation runs for another 2 million years to track the environmental fate of those emissions.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(geocarb)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># Run GEOCARB with multiple spikes of CO2</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># Spin up for 5 million years to initialize the model</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># Then five spikes of CO2 every 10,000 years</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co"># Then 2 million years after the last spike.</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co"># Since spikes happen at the end of a period, note</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co"># that there are six periods but only five spikes.</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>periods =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>( <span class="fl">5E6</span>,  <span class="fl">1E4</span>,  <span class="fl">1E4</span>,  <span class="fl">1E4</span>,  <span class="fl">1E4</span>, <span class="fl">2E6</span>)</span>
<span id="cb2-12"><a href="#cb2-12"></a>spikes =<span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>)</span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="kw"><a href="reference/run_geocarb.html">run_geocarb</a></span>(<span class="st">"multi_spike.dat"</span>, <span class="dt">periods =</span> periods, <span class="dt">co2_spike =</span> spikes)</span>
<span id="cb2-14"><a href="#cb2-14"></a>multi_spike =<span class="st"> </span><span class="kw"><a href="reference/read_geocarb.html">read_geocarb</a></span>(<span class="st">"multi_spike.dat"</span>)</span></code></pre></div>
<p>We can plot the results of this, tracking the atmospheric concentration of carbon dioxide:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyr)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>multi_spike <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(year <span class="op">&lt;=</span><span class="st"> </span><span class="fl">1.5E5</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> co2.atmos)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"year"</span>, <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Atmospheric "</span>, CO[<span class="dv">2</span>], <span class="st">" (parts per million"</span>)))</span></code></pre></div>
<p><img src="reference/figures/README-plot_spikes-1.png" width="100%"></p>
<p>We can also plot the operation of the weathering “thermostate” in responding to the increase in carbon dioxide.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>multi_spike <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(year <span class="op">&lt;=</span><span class="st"> </span><span class="fl">5E4</span>) <span class="op">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="dt">cols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(carbonate.weathering, silicate.weathering, </span>
<span id="cb4-3"><a href="#cb4-3"></a>                        total.weathering, carbon.burial),</span>
<span id="cb4-4"><a href="#cb4-4"></a>               <span class="dt">names_to =</span> <span class="st">"var"</span>, <span class="dt">values_to =</span> <span class="st">"val"</span>) <span class="op">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> val, <span class="dt">color =</span> var)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"year"</span>, <span class="dt">y =</span> <span class="st">"Trillions of moles per year"</span>) <span class="op">+</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">"Dark2"</span>, <span class="dt">name =</span> <span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="reference/figures/README-plot_spike_weathering-1.png" width="100%"></p>
</div>
<div id="alternating-periods-of-high-and-low-volcanic-degassing" class="section level3">
<h3 class="hasAnchor">
<a href="#alternating-periods-of-high-and-low-volcanic-degassing" class="anchor"></a>Alternating periods of high and low volcanic degassing</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Run GEOCARB with pulses of sustained degassing</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># Spin up for 5 million years to initialize the model</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co"># Then five periods of 100,000 years with alternating</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># normal and heightened volcanic degassing</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># Then 2 million years after the last period.</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># This also shows that you can get the data directly</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co"># from run_geocarb without needing to read it from a</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co"># file.</span></span>
<span id="cb5-10"><a href="#cb5-10"></a>periods =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5E6</span>, <span class="fl">1E5</span>, <span class="fl">1E5</span>, <span class="fl">1E5</span>, <span class="fl">1E5</span>, <span class="fl">1E5</span>, <span class="fl">2E6</span>)</span>
<span id="cb5-11"><a href="#cb5-11"></a>degas =<span class="st">   </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">7.5</span>, <span class="fl">9.5</span>, <span class="fl">7.5</span>, <span class="fl">9.5</span>, <span class="fl">7.5</span>, <span class="fl">9.5</span>, <span class="fl">7.5</span>)</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a>alt_degassing =<span class="st"> </span><span class="kw"><a href="reference/run_geocarb.html">run_geocarb</a></span>(<span class="ot">NULL</span>, <span class="dt">periods =</span> periods, </span>
<span id="cb5-14"><a href="#cb5-14"></a>                            <span class="dt">co2_spike =</span> <span class="dv">0</span>, <span class="dt">degas =</span> degas)</span></code></pre></div>
<p>We can plot the results of this, tracking the atmospheric concentration of carbon dioxide:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>alt_degassing <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(year <span class="op">&lt;=</span><span class="st"> </span><span class="fl">1E6</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> co2.atmos)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"year"</span>, <span class="dt">y =</span> <span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Atmospheric "</span>, CO[<span class="dv">2</span>], <span class="st">" (parts per million"</span>)))</span></code></pre></div>
<p><img src="reference/figures/README-plot_degas-1.png" width="100%"></p>
<p>We can also plot the operation of the weathering “thermostate” in responding to the increase in carbon dioxide.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>alt_degassing <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(year <span class="op">&lt;=</span><span class="st"> </span><span class="fl">1E6</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="dt">cols =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(carbonate.weathering, silicate.weathering, </span>
<span id="cb7-3"><a href="#cb7-3"></a>                        total.weathering, carbon.burial),</span>
<span id="cb7-4"><a href="#cb7-4"></a>               <span class="dt">names_to =</span> <span class="st">"var"</span>, <span class="dt">values_to =</span> <span class="st">"val"</span>) <span class="op">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> val, <span class="dt">color =</span> var)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"year"</span>, <span class="dt">y =</span> <span class="st">"Trillions of moles per year"</span>) <span class="op">+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">"Dark2"</span>, <span class="dt">name =</span> <span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="reference/figures/README-plot_degasz_weathering-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/jonathan-g/geocarb">https://​github.com/​jonathan-g/​geocarb</a>
</li>
<li>Report a bug at <br><a href="https://github.com/jonathan-g/geocarb/issues">https://​github.com/​jonathan-g/​geocarb/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jonathan M. Gilligan <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0003-1375-6686" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jonathan-g/geocarb"><img src="https://travis-ci.org/jonathan-g/geocarb.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://codecov.io/gh/jonathan-g/geocarb?branch=master"><img src="https://codecov.io/gh/jonathan-g/geocarb/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/jonathan-g/geocarb/actions"><img src="https://github.com/jonathan-g/geocarb/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jonathan M. Gilligan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
